#include "stdafx.h"
#include "Resource.h"
#include <mmsystem.h>
#include <ddraw.h>
#include "audio.h"
#include "gamelib.h"
#include "Box.h"
#include "Character.h"
#include "map.h"

namespace game_framework {
	Map::Map() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 3, 4, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}};
		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		checkHitWall[0] = checkHitWall[1] = checkHitWall[2] = checkHitWall[3] = false;
	}

	void Map::hitWall(int x1, int y1, int x2, int y2) {
		bool leftTop = (1 == gameMap[y1 / 64][x1 / 64]);
		bool rightTop = (1 == gameMap[y1 / 64][x2 / 64]);
		bool leftBottom = (1 == gameMap[y2 / 64][x1 / 64]);
		bool rightBottom = (1 == gameMap[y2 / 64][x2 / 64]);

		checkHitWall[0] = leftTop;
		checkHitWall[1] = rightTop;
		checkHitWall[2] = leftBottom;
		checkHitWall[3] = rightBottom;
	}

	void Map::OnShow() {
		int count = 0;
		for (int i = 0; i < 15; i++) {
			for (int j = 0; j < 10; j++) {
				switch (gameMap[j][i]){
					case 0:
						break;
					case 1:
						wall.SetTopLeft(i * 64, j * 64);
						wall.ShowBitmap();
						break;
					case 2:
						goal.SetTopLeft(i * 64, j * 64);
						goal.ShowBitmap();
						break;
					default:
						break;
				}
			}
		}
	}

	void Map::LoadBitmap()
	{
		wall.LoadBitmap(IDB_WALL, RGB(255, 255, 255));
		goal.LoadBitmap(IDB_GOAL, RGB(255, 255, 255));
	}

	int Map::GetPosition(int x, int y) {
		return gameMap[y / 64][x / 64];
	}

	int Map::GetChestNumber() {
		return chestNumber;
	}

	Map1::Map1() {
		int gameMap_init[10][15] = { {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 2, 0, 3, 2, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 3, 4, 3, 0, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 0, 0, 2, 3, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 2, 3, 0, 2, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									 {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 5;
	}

	Map2::Map2() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0},
									{0, 0, 0, 1, 3, 0, 0, 0, 0, 3, 0, 2, 1, 0, 0},
									{0, 0, 0, 1, 0, 0, 4, 0, 3, 3, 0, 2, 1, 0, 0},
									{0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 4;
	}

	Map3::Map3() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0},
									{0, 1, 0, 2, 3, 0, 0, 0, 0, 3, 0, 2, 1, 0, 0},
									{0, 1, 0, 1, 3, 0, 4, 0, 3, 3, 0, 2, 1, 0, 0},
									{0, 1, 3, 1, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0},
									{0, 1, 0, 0, 0, 0, 3, 1, 1, 1, 0, 0, 1, 0, 0},
									{0, 1, 1, 0, 0, 0, 2, 1, 2, 0, 3, 0, 1, 0, 0},
									{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 8;
	}

	Map4::Map4() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0},
									{0, 1, 4, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0},
									{0, 1, 0, 3, 3, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1},
									{0, 1, 0, 3, 0, 1, 0, 1, 1, 1, 0, 0, 1, 2, 1},
									{0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1},
									{0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 2, 1},
									{0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1},
									{0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1},
									{0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 3;
	}

	Map5::Map5() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0},
									{0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0},
									{0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0},
									{0, 1, 0, 2, 0, 1, 0, 1, 2, 1, 1, 1, 1, 1, 1},
									{0, 1, 0, 0, 0, 3, 0, 1, 1, 1, 0, 0, 1, 0, 1},
									{0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 2, 1},
									{0, 0, 1, 0, 3, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1},
									{0, 0, 1, 0, 1, 0, 3, 4, 0, 0, 0, 1, 0, 0, 1},
									{0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1},
									{0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 3;
	}

	Map6::Map6() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 4, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 1, 3, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 2, 3, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 2, 2, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 4;
	}

	Map7::Map7() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0},
									{0, 0, 1, 1, 3, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 1, 0, 4, 0, 3, 0, 0, 3, 1, 1, 0, 0, 0},
									{0, 0, 1, 0, 2, 2, 1, 0, 3, 0, 1, 0, 0, 0, 0},
									{0, 0, 1, 1, 2, 2, 1, 0, 0, 0, 1, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 4;
	}

	Map8::Map8() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0},
									{0, 0, 0, 0, 1, 0, 3, 0, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 1, 1, 1, 0, 3, 0, 1, 1, 0, 1, 0, 0, 0},
									{0, 0, 1, 2, 2, 2, 0, 3, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 1, 2, 2, 2, 3, 1, 3, 0, 1, 1, 0, 0, 0},
									{0, 0, 1, 1, 1, 1, 0, 1, 0, 3, 0, 1, 0, 0, 0},
									{0, 0, 0, 0, 0, 1, 0, 4, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 6;
	}

	Map9::Map9() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 4, 0, 1, 0, 0},
									{0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0},
									{0, 0, 1, 0, 0, 0, 2, 1, 3, 1, 0, 1, 1, 0, 0},
									{0, 0, 1, 0, 1, 0, 0, 3, 0, 0, 2, 0, 1, 0, 0},
									{0, 0, 1, 0, 2, 1, 3, 0, 3, 0, 1, 0, 1, 0, 0},
									{0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0},
									{0, 0, 1, 1, 0, 0, 1, 1, 2, 0, 0, 0, 1, 0, 0},
									{0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 4;
	}

	Map10::Map10() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 3, 0, 3, 0, 3, 0, 1, 0, 0},
									{0, 0, 0, 0, 0, 1, 0, 3, 1, 1, 0, 0, 1, 0, 0},
									{0, 0, 0, 1, 1, 1, 0, 3, 0, 1, 0, 1, 1, 0, 0},
									{0, 0, 0, 1, 2, 2, 2, 2, 2, 0, 0, 1, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 5;
	}

	Map11::Map11() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
									{0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0},
									{0, 0, 0, 1, 3, 0, 1, 1, 1, 0, 3, 1, 0, 0, 0},
									{0, 0, 0, 1, 0, 1, 2, 2, 2, 1, 0, 1, 0, 0, 0},
									{0, 0, 1, 1, 0, 1, 2, 2, 2, 1, 0, 1, 1, 0, 0},
									{0, 0, 1, 0, 3, 0, 0, 3, 0, 0, 3, 0, 1, 0, 0},
									{0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 4, 0, 1, 0, 0},
									{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 6;
	}

	Map12::Map12() {
		int gameMap_init[10][15] = {{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 0, 1, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 1, 0, 2, 1, 1, 0, 0, 0, 0, 0, 0},
									{0, 0, 0, 1, 0, 0, 3, 2, 1, 0, 0, 0, 0, 0, 0},
									{0, 0, 1, 1, 0, 3, 0, 0, 1, 1, 0, 0, 0, 0, 0},
									{0, 0, 1, 0, 0, 1, 3, 3, 0, 1, 0, 0, 0, 0, 0},
									{0, 0, 1, 0, 0, 0, 0, 4, 0, 1, 0, 0, 0, 0, 0},
									{0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0} };

		for (int i = 0; i < 10; i++) {
			for (int j = 0; j < 15; j++) {
				gameMap[i][j] = gameMap_init[i][j];
			}
		}
		chestNumber = 4;
	}
}